<head>
	<title>Tasks</title>
</head>

<body>

	<div id="g-timeline">
		<ul id="g-dates">
			{{> dates }}
		</ul>
		<dl id="g-resources">
			{{> resources }}
		</dl>
	</div>

	<div id="g-filters">
		{{> filters}}
	</div>

	<div id="g-tasks">
		{{> tasks}}
	</div>

	<div id="g-projects">
		{{> projects}}
	</div>

	{{initFoundation}}

</body>

<template name="dates">
	<li class="dates-month">
		<h3 class="dates-month-title">June</h3>
		<ul class="dates-days">
			<li class="dates-day"><h4 class="dates-day-title">1</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">2</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">3</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">4</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">5</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">6</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">7</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">8</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">9</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">10</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">11</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">12</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">13</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">14</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">15</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">16</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">17</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">18</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">19</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">20</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">21</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">22</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">23</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">24</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">25</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">26</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">27</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">28</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">29</h4></li>
			<li class="dates-day"><h4 class="dates-day-title">30</h4></li>
		</ul>
	</li>
</template>

<template name="resources">
	<dt class="resource-name"><a href="#">Jake</a></dt>
		<dd class="resource-timeline">
			<ul class="resource-tasks">
				<li class="resource-task size-4 tip-top" data-tooltip title="test1"><a href="#">test 1</a></li>
				<li class="resource-task size-2 tip-top" data-tooltip title="test2"><a href="#">test 2</a></li>
				<li class="resource-task size-1 tip-top" data-tooltip title="test3"><a href="#">test 3</a></li>
				<li class="resource-task size-8 tip-top" data-tooltip title="test4"><a href="#">test 4</a></li>
			</ul>
		</dd>
	<dt class="resource-name"><a href="#">Jake</a></dt>
		<dd class="resource-timeline">
			<ul class="resource-tasks">
				<li class="resource-task size-4 tip-top" data-tooltip title="test1"><a href="#">test 1</a></li>
				<li class="resource-task size-2 tip-top" data-tooltip title="test2"><a href="#">test 2</a></li>
				<li class="resource-task size-1 tip-top" data-tooltip title="test3"><a href="#">test 3</a></li>
				<li class="resource-task size-8 tip-top" data-tooltip title="test4"><a href="#">test 4</a></li>
			</ul>
		</dd>
	<dt class="resource-name"><a href="#">Jake</a></dt>
		<dd class="resource-timeline">
			<ul class="resource-tasks">
				<li class="resource-task size-4 tip-top" data-tooltip title="test1"><a href="#">test 1</a></li>
				<li class="resource-task size-2 tip-top" data-tooltip title="test2"><a href="#">test 2</a></li>
				<li class="resource-task size-1 tip-top" data-tooltip title="test3"><a href="#">test 3</a></li>
				<li class="resource-task size-8 tip-top" data-tooltip title="test4"><a href="#">test 4</a></li>
			</ul>
		</dd>
	<dt class="resource-name"><a href="#">Jake</a></dt>
		<dd class="resource-timeline">
			<ul class="resource-tasks">
				<li class="resource-task size-4 tip-top" data-tooltip title="test1"><a href="#">test 1</a></li>
				<li class="resource-task size-2 tip-top" data-tooltip title="test1"><a href="#">test 2</a></li>
				<li class="resource-task size-1 tip-top" data-tooltip title="test1"><a href="#">test 3</a></li>
				<li class="resource-task size-8 tip-top" data-tooltip title="test1"><a href="#">test 4</a></li>
			</ul>
		</dd>
</template>

<template name="projects">
	<h3>Projects</h3>
	{{#if loading}}
		<div id="projects">Loading...</div>
	{{else}}
		<div id="projects">
			{{#each projects}}
				<div class="project {{selected}}">
					{{#if editing}}
						<div class="edit">
							<input class="project-name-input" id="project-name-input" type="text" value="{{name}}" />
						</div>
					{{else}}
						<div class="display">
							<a class="project-name {{name_class}}" href="/{{_id}}">
								{{name}}
							</a>
						</div>
					{{/if}}
				</div>
			{{/each}}
		</div>
		<div id="createProject">
			<input type="text" id="new-project" placeholder="New project" />
		</div>
	{{/if}}
</template>

<template name="tasks">
	{{#if any_project_selected}}
		<div id="items-view">
			{{#if loading}}
				Loading...
			{{else}}
				<div id="new-task-box">
					<input type="text" id="new-task" placeholder="New item" />
				</div>
				<ul id="item-project">
					{{#each tasks}}
						{{> task_item}}
					{{/each}}
				</ul>
			{{/if}}
		</div>
	{{/if}}
</template>

<template name="task_item">
	<li class="task {{done_class}}">
		{{#if editing}}
			<div class="edit">
				<input id="task-input" type="text" value="{{text}}" />
			</div>
		{{else}}
			<div class="destroy"></div>
			<div class="display">
				<input class="check" name="markdone" type="checkbox" checked={{done}} />
				<div class="task-text">{{text}}</div>
			</div>
		{{/if}}
		<div class="item-tags">
			{{#each tag_objs}}
				<div class="tag removable_tag">
					<div class="name">{{tag}}</div>
					<div class="remove"></div>
				</div>
			{{/each}}
			{{#if adding_tag}}
				<div class="tag edittag">
					<input type="text" id="edittag-input" value="" />
				</div>
			{{else}}
				<div class="tag addtag">
					+tag
				</div>
			{{/if}}
		</div>
	</li>
</template>

<template name="filters">
	<div id="filters" class="tags">
		<div class="label">Show:</div>
		{{#each tags}}
			<div class="tag {{selected}}">
				{{tag_text}} <span class="count">({{count}})</span>
			</div>
		{{/each}}
	</div>
</template>
